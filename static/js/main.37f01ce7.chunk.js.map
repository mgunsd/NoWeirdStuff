{"version":3,"sources":["App.js","index.js"],"names":["CONSTANTS","ASSETS","head","waiting","stalking","grabbing","grabbed","shaka","Object","keys","forEach","key","Image","src","useHover","ref","useRef","useState","hovered","setHovered","enter","leave","useEffect","current","addEventListener","removeEventListener","App","props","state","debug","cursorGrabbed","gameOver","handleToggleDebug","bind","handleButtonClicked","handleCursorGrabbed","this","setState","setTimeout","screenStyle","cursor","appClass","React","createElement","className","style","onClick","GrabZone","onCursorGrabbed","Component","outerRef","outerHovered","innerRef","innerHovered","isExtended","setExtendedArm","timer","clearTimeout","Grabber","extended","mousePos","x","y","position","setPosition","setFromEvent","e","clientX","clientY","window","useMousePosition","handleResize","getBoundingClientRect","useLayoutEffect","usePosition","left","width","top","height","angle","Math","atan2","PI","rotation","min","max","parseInt","grabberClass","wrapperStyle","transform","handImageSrc","onMouseEnter","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.37f01ce7.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect, useLayoutEffect, createContext } from 'react';\nimport './App.scss';\n\n/**\n                                                                                * Globals\n                                                                                */\n\nconst CONSTANTS = {\n  assetPath: `https://github.com/mgunsd/NoWeirdStuff/tree/master/src/assets`\n};\n\n\nconst ASSETS = {\n  head: `${CONSTANTS.assetPath}/head.svg`,\n  waiting: `${CONSTANTS.assetPath}/hand.svg`,\n  stalking: `${CONSTANTS.assetPath}/hand-waiting.svg`,\n  grabbing: `${CONSTANTS.assetPath}/hand.svg`,\n  grabbed: `${CONSTANTS.assetPath}/hand-with-cursor.svg`,\n  shaka: `${CONSTANTS.assetPath}/hand-surfs-up.svg`\n};\n\n\n// Preload images\nObject.keys(ASSETS).forEach(key => {\n  const img = new Image();\n  img.src = ASSETS[key];\n});\n\n\n/**\n     * Shared hooks\n     */\n\n// Hover state - https://dev.to/spaciecat/hover-states-with-react-hooks-4023\nconst useHover = () => {\n  const ref = useRef();\n  const [hovered, setHovered] = useState(false);\n\n  const enter = () => setHovered(true);\n  const leave = () => setHovered(false);\n\n  useEffect(\n    () => {\n      ref.current.addEventListener(\"mouseenter\", enter);\n      ref.current.addEventListener(\"mouseleave\", leave);\n      return () => {\n        ref.current.removeEventListener(\"mouseenter\", enter);\n        ref.current.removeEventListener(\"mouseleave\", leave);\n      };\n    },\n    [ref]);\n\n\n  return [ref, hovered];\n};\n\n// Mouse position\nconst useMousePosition = () => {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const setFromEvent = e => setPosition({ x: e.clientX, y: e.clientY });\n    window.addEventListener(\"mousemove\", setFromEvent);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", setFromEvent);\n    };\n  }, []);\n\n  return position;\n};\n\n// Element position\nconst usePosition = () => {\n  const ref = useRef();\n  const [position, setPosition] = useState({});\n\n  const handleResize = () => {\n    setPosition(ref.current.getBoundingClientRect());\n  };\n\n  useLayoutEffect(() => {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [ref.current]);\n\n  return [ref, position];\n};\n\n\n/**\n    * React Components\n    */\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      debug: false,\n      cursorGrabbed: false,\n      gameOver: false\n    };\n\n\n    this.handleToggleDebug = this.handleToggleDebug.bind(this);\n    this.handleButtonClicked = this.handleButtonClicked.bind(this);\n    this.handleCursorGrabbed = this.handleCursorGrabbed.bind(this);\n  }\n\n  handleToggleDebug() {\n    this.setState({\n      debug: !this.state.debug\n    });\n\n  }\n\n  handleCursorGrabbed() {\n    this.setState({\n      cursorGrabbed: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        cursorGrabbed: false\n      });\n\n    }, 2000);\n  }\n\n\n  handleButtonClicked() {\n    this.setState({\n      gameOver: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        gameOver: false\n      });\n\n    }, 4000);\n  }\n\n  render() {\n    const { cursorGrabbed, gameOver, debug } = this.state;\n    const screenStyle = cursorGrabbed ? { cursor: \"none\" } : {};\n    const appClass = debug ? \"app app--debug\" : \"app\";\n\n    return (\n      React.createElement(\"div\", { className: appClass, style: screenStyle },\n        React.createElement(\"section\", { className: \"container\" },\n          React.createElement(\"h1\", null, \"Hello!\"),\n          React.createElement(\"h2\", null, \"Welcome to the internet.\"),\n          React.createElement(\"p\", null, \"This is a classic website, no traps or weird stuff!\"),\n          React.createElement(\"p\", null, \"Feel free to browse, relax and, I don't know, click the button down there? Might as well, right?\"),\n\n          React.createElement(\"button\", {\n            className: \"debug-button\",\n            onClick: this.handleToggleDebug\n          }, \"Debug\")),\n\n\n\n\n        React.createElement(\"button\", {\n          className: \"trap-button\",\n          onClick: this.handleButtonClicked\n        },\n          gameOver && \"Nice one\",\n          cursorGrabbed && \"Gotcha!\",\n          !gameOver && !cursorGrabbed && \"Button!\"),\n\n\n        React.createElement(\"div\", { className: \"grab-zone-wrapper\" },\n          React.createElement(GrabZone, {\n            onCursorGrabbed: this.handleCursorGrabbed,\n            cursorGrabbed: cursorGrabbed,\n            gameOver: gameOver\n          }))));\n  }\n}\n\n\n// GrabZone (The hover trigger zone)\nconst GrabZone = ({ cursorGrabbed, gameOver, onCursorGrabbed }) => {\n  const [outerRef, outerHovered] = useHover();\n  const [innerRef, innerHovered] = useHover();\n  const [isExtended, setExtendedArm] = useState(false);\n\n  let state = \"waiting\";\n  if (outerHovered) {\n    state = \"stalking\";\n  }\n  if (innerHovered) {\n    state = \"grabbing\";\n  }\n  if (cursorGrabbed) {\n    state = \"grabbed\";\n  }\n  if (gameOver) {\n    state = \"shaka\";\n  }\n\n  // If state is grabbing for a long time, they're being clever!\n  useEffect(() => {\n    let timer;\n    if (state === \"grabbing\") {\n      timer = setTimeout(() => {\n        // Not so clever now, are they?\n        setExtendedArm(true);\n        timer = null;\n      }, 2000);\n    }\n    return () => {\n      setExtendedArm(false);\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n  },\n    [state]);\n\n\n  return (\n    React.createElement(\"div\", { className: \"grab-zone\", ref: outerRef },\n      React.createElement(\"div\", { className: \"grab-zone__debug\" },\n        React.createElement(\"strong\", null, \"Debug info:\"),\n        React.createElement(\"p\", null, \"Current state: \", state),\n        React.createElement(\"p\", null, \"Extended arm: \", isExtended ? \"Yes\" : \"No\")),\n\n      React.createElement(\"div\", { className: \"grab-zone__danger\", ref: innerRef },\n        React.createElement(Grabber, {\n          state: state,\n          gameOver: gameOver,\n          extended: isExtended,\n          onCursorGrabbed: onCursorGrabbed\n        }))));\n\n};\n\n// Grabber (The graphic)\nconst Grabber = ({ state, gameOver, extended, onCursorGrabbed }) => {\n  const mousePos = useMousePosition();\n  const [ref, position] = usePosition();\n  const hasCursor = false;\n\n  // Calculate rotation of armWrapper\n  const x = position.left + position.width * 0.5;\n  const y = position.top + position.height * 0.5;\n  const angle = gameOver ? 0 : Math.atan2(mousePos.x - x, -(mousePos.y - y)) * (180 / Math.PI);\n\n  // Ensure value is within acceptable range (-75 to 75)\n  const rotation = Math.min(Math.max(parseInt(angle), -79), 79);\n\n  const grabberClass = `grabber grabber--${state} ${extended && \"grabber--extended\"}`;\n  const wrapperStyle = { transform: `rotate(${rotation}deg)` };\n\n  let handImageSrc = ASSETS[state];\n\n  return (\n    React.createElement(\"div\", { className: grabberClass },\n      React.createElement(\"div\", { className: \"grabber__body\" }),\n      React.createElement(\"img\", { className: \"grabber__face\", src: ASSETS.head }),\n      React.createElement(\"div\", { className: \"grabber__arm-wrapper\", ref: ref, style: wrapperStyle },\n        React.createElement(\"div\", { className: \"grabber__arm\" },\n          React.createElement(\"img\", {\n            className: \"grabber__hand\",\n            src: handImageSrc,\n            onMouseEnter: onCursorGrabbed\n          })))));\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}